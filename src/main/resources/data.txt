create table authority (
                           authority_name varchar(50) not null,
                           primary key (authority_name)
);

create table member (
                        user_id bigint generated by default as identity,
                        activated boolean,
                        nickname varchar(50),
                        password varchar(100),
                        username varchar(50),
                        primary key (user_id)
);

create table user_authority (
                                user_id bigint not null,
                                authority_name varchar(50) not null,
                                primary key (user_id, authority_name)
);

alter table user_authority
    add constraint FKp02mxblkfh557oac0w0qg1el5
        foreign key (user_id)
            references member;

INSERT INTO MEMBER (USER_ID, USERNAME, PASSWORD, NICKNAME, ACTIVATED) VALUES (1, 'admin', '$2a$08$lDnHPz7eUkSi6ao14Twuau08mzhWrL4kyZGGU5xfiGALO/Vxd5DOi', 'admin', 1);

INSERT INTO AUTHORITY (AUTHORITY_NAME) values ('ROLE_USER');
INSERT INTO AUTHORITY (AUTHORITY_NAME) values ('ROLE_ADMIN');

INSERT INTO USER_AUTHORITY (USER_ID, AUTHORITY_NAME) values (1, 'ROLE_USER');
INSERT INTO USER_AUTHORITY (USER_ID, AUTHORITY_NAME) values (1, 'ROLE_ADMIN');
